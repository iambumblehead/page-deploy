{
    "name" : "timeBgn",
    "type" : "calendar",
    "labelArr" : [{
        "name" : "primary",
        "type" : "viewKey",
        "key" : "viewData.labels.timeBgn_primary",

        "type" : "literal",
        "value" : "Start Date"
    },{
        "name" : "secondary",
        "type" : "viewKey",
        "key" : "viewData.labels.timeBgn_secondary",

        "type" : "literal",
        "value" : "M/d/yyyy"
    }],

    "subjectData" : {
        "type" : "fn",
        "fnName" : "getDate"
    },      

    "validation" : {
        "type" : "AND",
        "validatorArr": [{
            "type": "specPattern",
            "name": "isNotEmpty",
            "errorKey" : "new_loyalty_ini_date"
        },{
            "type": "specPattern",
            "name" : "isDateNotEarlier",
            "options" : {
                "date" : "yesterday"
            },
            "errorKey" : "new_loyalty_ini_date_is_past"
        },{
            "type" : "OR",
            "note" : "timeEnd is empty, OR it is in future",
            "validatorArr" : [{ 
                "type" : "specPattern",
                "name" : "isMatchingVals",
                "optionArr" : [{
                    "type" : "fieldValue",
                    "fieldName" : "timeEnd",
                    "name" : "val1"
                },{
                    "type" : "literal",
                    "value" : "",
                    "name" : "val2"                            
                }]
            },{
                "type": "specPattern",
                "name" : "isDateEarlier",
                "errorKey" : "new_loyalty_bad_bgn_dates",
                "optionArr" : [{ 
                    "type" : "fieldValue",
                    "name" : "date",
                    "fieldName" : "timeEnd"
                }]
            }]
        }]
    },

    "filterArr" : [{
        "type" : "fn",
        "fnName" : "getDateFromString",
        "options" : {
            "format" : "short"
        }
    },{
        "type" : "fn",
        "fnName" : "getDateAsTimeDayBgn"
    },{
        "type" : "fn",
        "fnName" : "getDateAsTimestamp"
    }],
    "observerSpecArr" : [{
        "event" : "change",
        "type" : "localValidate",
        "field" : "timeEnd"
    }]
}
